<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Self Attendance System</title>
    <style>
        /* Existing styles remain unchanged */
    </style>
</head>
<body>
<div class="container">
    <h1>
        <img src="https://placehold.co/40x40" alt="Calendar with checkmark icon, blue color" class="attendance-icon">
        Self Attendance System
    </h1>

    <form id="attendanceForm">
        <!-- Existing form elements remain unchanged -->
    </form>

    <h2>
        <img src="https://placehold.co/40x40" alt="List icon, gray color" class="attendance-icon">
        Attendance Records
    </h2>
    
    <!-- New dropdown for selecting incharge to view records -->
    <label for="viewIncharge">Select Incharge to View Records:</label>
    <select id="viewIncharge" name="viewIncharge">
        <option value="">All Incharges</option>
        <option value="BHAVESHBHAI JOLIYA">BHAVESHBHAI JOLIYA</option>
        <option value="PRAVINBHAI SOLANKI">PRAVINBHAI SOLANKI</option>
        <option value="THIRUPATHI VASANTH REDDY">THIRUPATHI VASANTH REDDY</option>
        <option value="SUNIL VINAYAK LUTE">SUNIL VINAYAK LUTE</option>
        <option value="Balaji AshokRao More">Balaji AshokRao More</option>
        <option value="JOLIYA VIPUL RAMJIBHAI">JOLIYA VIPUL RAMJIBHAI</option>
        <option value="LALJI TIWARI">LALJI TIWARI</option>
        <option value="Ranveer Singh">Ranveer Singh</option>
        <option value="BANOTH VAMSHI">BANOTH VAMSHI</option>
        <option value="P Ananth Reddy">P Ananth Reddy</option>
        <option value="AMAN KUMAR">AMAN KUMAR</option>
        <option value="LOKESH YADAV">LOKESH YADAV</option>
        <option value="SUNNY SINGH">SUNNY SINGH</option>
        <option value="Anirudh Kumar">Anirudh Kumar</option>
        <option value="Gauri Shankar Sah">Gauri Shankar Sah</option>
        <option value="CHANDAN KUMAR THAKUR">CHANDAN KUMAR THAKUR</option>
        <option value="BALRAM KUMAR">BALRAM KUMAR</option>
        <option value="KOTAM HARISH KUMAR REDDY">KOTAM HARISH KUMAR REDDY</option>
        <option value="M.VITTAL">M.VITTAL</option>
        <option value="ROHIT KUMAR SINGH">ROHIT KUMAR SINGH</option>
        <option value="PALLA SOMASANKAR">PALLA SOMASANKAR</option>
        <option value="PATLOLLA VINAY REDDY">PATLOLLA VINAY REDDY</option>
        <option value="DESH PANDE AKHIL">DESH PANDE AKHIL</option>
        <option value="raunak sir">raunak sir</option>
    </select>

    <table id="attendanceTable">
        <thead>
            <tr>
                <th>Incharge</th>
                <th>Date</th>
                <th>Attendance</th>
            </tr>
        </thead>
        <tbody>
            <!-- Attendance records will be added here -->
        </tbody>
    </table>

    <div class="monthly-attendance">
        <!-- Existing monthly attendance section remains unchanged -->
    </div>
</div>

<script>
    const attendanceRecords = JSON.parse(localStorage.getItem('attendanceRecords')) || [];
    const DEFAULT_MONTH_DAYS = 30; // Define the default number of days in a month

    // Save records to localStorage whenever they change
    function saveRecords() {
        localStorage.setItem('attendanceRecords', JSON.stringify(attendanceRecords));
    }

    // Render records based on selected incharge
    function renderRecords() {
        const selectedIncharge = document.getElementById('viewIncharge').value;
        const table = document.getElementById('attendanceTable').getElementsByTagName('tbody')[0];
        table.innerHTML = '';

        const filteredRecords = selectedIncharge ? 
            attendanceRecords.filter(record => record.incharge === selectedIncharge) : 
            attendanceRecords;

        filteredRecords.forEach(record => {
            const newRow = table.insertRow();
            const cell1 = newRow.insertCell(0);
            const cell2 = newRow.insertCell(1);
            const cell3 = newRow.insertCell(2);

            cell1.textContent = record.incharge;
            cell2.textContent = record.date;
            cell3.textContent = record.attendance;
        });
    }

    // Show success message
    function showSuccessMessage(message) {
        // Existing success message logic remains unchanged
    }

    document.getElementById('attendanceForm').addEventListener('submit', function(event) {
        event.preventDefault();
        // Existing form submission logic remains unchanged
    });

    document.getElementById('viewIncharge').addEventListener('change', renderRecords);

    document.getElementById('viewMonthlyAttendance').addEventListener('click', function() {
        // Existing monthly attendance logic remains unchanged
    });

    // Render any existing records on page load
    renderRecords();
</script>
</body>
</html>
